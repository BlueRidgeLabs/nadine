{% load billing_tags %}
{% load list_tags %}

<table>
  <tr>
    <th>ID</th>
    <th>Due Date</th>
    <th>User</th>
    <th>Package</th>
    <th>Monthly</th>
    <th>Overage</th>
    <th>Total</th>
    <th>Action</th>
  </tr>
{% for bill in bills %}
  <tr class="{% cycle 'row-even' 'row-odd' %}">
    <td>
      <a href="{{ bill.get_staff_url }}">{{ bill.id}}
    </td>
    <td>{{ bill.due_date}}</td>
    <td>
      <a href="{% url 'staff:members:detail' bill.user.username %}">{{ bill.user.get_full_name }}</a>
    </td>
    <td>
      {{ bill.package_name|default:'' }}
    </td>
    <td id='amount-td'>
      {% if bill.monthly_rate %}${{ bill.monthly_rate }}{% endif %}
    </td>
    <td id='amount-td' style="color:red;">
      {% if bill.overage_amount %}${{ bill.overage_amount }}{% endif %}
    </td>
    <td id='amount-td'><strong>${{ bill.amount }}</strong></td>
    <td>
      {% include "staff/billing/action_bill_delay.html" %}
      {% include "staff/billing/action_billing_flag.html" %}
      {% include "staff/billing/action_bill_paid.html" %}
    </td>
  </tr>
{% endfor %}
</table>
