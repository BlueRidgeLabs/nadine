{% load billing_tags %}
{% load list_tags %}

<table class='outstanding-table responsive-table'>
  <tr>
    <th>ID *</th>
    <th>Due Date</th>
    <th>User</th>
    <th>Monthly</th>
    <th>Overage</th>
    <th>Total</th>
    <th>Paid</th>
    <th>Days</th>
    <th>Action</th>
  </tr>
{% for bill in bills %}
  <tr class="{% cycle 'row-odd' 'row-even' %}">
    <td>
      <a style="color:{% user_billing_color bill.user %};" href="{{ bill.get_staff_url }}">{{ bill.id}}
    </td>
    <td nowrap>{{ bill.due_date}}</td>
    <td>
      <a href="{% url 'staff:members:detail' bill.user.username %}">{{ bill.user.get_full_name }}</a>
    </td>
    <td id='amount-td'>
      {% if bill.monthly_rate %}${{ bill.monthly_rate }}{% endif %}
    </td>
    <td id='amount-td' class='overage_td' style="color:red;">
      {% if bill.overage_amount %}${{ bill.overage_amount }}{% endif %}
    </td>
    <td id='amount-td'><strong>${{ bill.amount }}</strong></td>
    <td id='amount-td' class='paid_td'>
      {% if bill.total_paid %}
        ${{ bill.total_paid }}
      {% endif %}
    </td>
    <td>
      {{ bill.coworking_day_count }}
      {% if bill.coworking_day_count != bill.coworking_day_billable_count %}
        ({{ bill.coworking_day_billable_count}})
      {% endif %}
    </td>
    <td nowrap>
      {% include "staff/billing/action_bill_delay.html" %}
      {% with bill.user as user %}
        {% include "staff/billing/action_billing_flag.html" %}
      {% endwith %}
      {% include "staff/billing/action_bill_paid.html" %}
    </td>
  </tr>
{% endfor %}
</table>
